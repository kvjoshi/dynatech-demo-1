<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purchase Order</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="purchase-order.css" />
  </head>
  <body>
    <main class="container bg-white">
      <div class="stepper-wrapper">
        <div class="stepper-border"></div>
        <div class="stepper-container">
          <div class="stepper-item active">
            <div class="stepper-step">1</div>
            <div class="stepper-title">Purchase Order</div>
          </div>
          <div class="stepper-item">
            <div class="stepper-step">2</div>
            <div class="stepper-title">Review & Confirm</div>
          </div>
          <div class="stepper-item">
            <div class="stepper-step">3</div>
            <div class="stepper-title">Approve | Reject</div>
          </div>
          <div class="stepper-item">
            <div class="stepper-step">4</div>
            <div class="stepper-title">Done</div>
          </div>
        </div>
      </div>
      <div class="form-container">
        <!-- Step 1: Purchase Order -->
        <div class="form-step active" id="step1">
          <form>
            <div class="row g-4 p-3">
              <div class="col-12">
                <div class="file-picker-container">
                  <div class="selected-file">
                    <div class="file-name"></div>
                    <button
                      type="button"
                      class="remove-file"
                      title="Remove file"
                    >
                      &times;
                    </button>
                  </div>
                  <div class="initial-content">
                    <div class="file-picker-heading">Select File here</div>
                    <div class="file-support-text">
                      Files Supported: PDF, TEXT, DOC, DOCX
                    </div>
                    <input
                      type="file"
                      id="fileInput"
                      class="custom-file-input"
                      accept=".pdf,.txt,.doc,.docx"
                    />
                    <label for="fileInput" class="choose-file-btn"
                      >Choose File</label
                    >
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="row g-4">
                  <div class="col-lg-9">
                    <div class="form-section--heading">Purchase Order</div>
                    <div class="card">
                      <div class="card-body">
                        <div class="row g-3">
                          <div class="col-md-3">
                            <label for="purchaseOrder" class="form-label"
                              >Purchase Order</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="purchaseOrder"
                              name="purchase_order"
                              placeholder="Purchase Order"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="confirmDeliveryDate" class="form-label"
                              >Confirm Delivery Date</label
                            >
                            <input
                              type="date"
                              class="form-control"
                              id="confirmDeliveryDate"
                              name="confirm_delivery_date"
                              placeholder="Confirm Delivery Date"
                            />
                          </div>
                          <div class="col-md-3">
                            <label
                              for="requestedDeliveryDate"
                              class="form-label"
                              >Requested Delivery Date</label
                            >
                            <input
                              type="date"
                              class="form-control"
                              id="requestedDeliveryDate"
                              name="requested_delivery_date"
                              placeholder="Requested Delivery Date"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="orderDate" class="form-label"
                              >Order Date</label
                            >
                            <input
                              type="date"
                              class="form-control"
                              id="orderDate"
                              name="order_date"
                              placeholder="Order Date"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="shipVia" class="form-label"
                              >Ship Via</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="shipVia"
                              name="ship_via"
                              placeholder="Ship via"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="paymentTerm" class="form-label"
                              >Payment Term</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="paymentTerm"
                              name="payment_term"
                              placeholder="Payment Term"
                            />
                          </div>
                          <div class="col-md-3">
                            <label for="deliveryTerm" class="form-label"
                              >Delivery Term</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="deliveryTerm"
                              name="delivery_term"
                              placeholder="Delivery Term"
                            />
                          </div>
                          <div class="col-md-3">
                            <label
                              for="confirmedDeliveryDate"
                              class="form-label"
                              >Confirmed Delivery Date</label
                            >
                            <input
                              type="date"
                              class="form-control"
                              id="confirmedDeliveryDate"
                              name="confirmed_delivery_date"
                              placeholder="Confirmed Delivery Date"
                            />
                          </div>
                          <div class="col-md-12 col-xs-6 mb-2">
                            <div class="horizontal_line"></div>
                          </div>
                          <div class="col-md-3">
                            <label for="subTotal" class="form-label"
                              >Sub Total</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="subTotal"
                              name="sub_total"
                              placeholder="Sub Total"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div class="card mb-4 mb-lg-0">
                      <div class="card-header">
                        <div class="form-section--heading mt-3">
                          Billing Address
                        </div>
                      </div>
                      <div class="card-body">
                        <input
                          type="text"
                          class="form-control"
                          id="billingAddress"
                          name="billing_address"
                          placeholder="Billing Address"
                        />
                      </div>
                    </div>
                    <div class="card">
                      <div class="card-header">
                        <div class="form-section--heading mt-3">
                          Delivery Address
                        </div>
                      </div>
                      <div class="card-body">
                        <input
                          type="text"
                          class="form-control"
                          id="deliveryAddress"
                          name="delivery_address"
                          placeholder="Delivery Address"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="card">
                  <div class="card-body">
                    <div class="form-section--heading">Product Details</div>
                    <div class="p-3 overflow-auto">
                      <table class="table">
                        <thead class="table-primary">
                          <tr>
                            <th>Product</th>
                            <th>Description</th>
                            <th>Unit</th>
                            <th>Quantity</th>
                            <th>Rested Delivery Date</th>
                            <th>Confirmed Delivery Date</th>
                            <th>Purchase Price</th>
                            <th>Line Order</th>
                            <th>Line Amount</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <!-- Sample row -->
                          <tr>
                            <td>1</td>
                            <td class="editable">Value 1</td>
                            <td class="editable">Value 2</td>
                            <td class="editable">Value 3</td>
                            <td class="editable">Value 4</td>
                            <td class="editable">Value 5</td>
                            <td class="editable">Value 6</td>
                            <td class="editable">Value 7</td>
                            <td class="editable">Value 8</td>
                            <td>
                              <button
                                type="button"
                                class="btn btn-sm btn-primary edit-btn"
                              >
                                <i class="bi bi-pencil-fill"></i>
                              </button>
                            </td>
                          </tr>
                          <tr>
                            <td>2</td>
                            <td class="editable">Value A</td>
                            <td class="editable">Value B</td>
                            <td class="editable">Value C</td>
                            <td class="editable">Value D</td>
                            <td class="editable">Value E</td>
                            <td class="editable">Value F</td>
                            <td class="editable">Value G</td>
                            <td class="editable">Value H</td>
                            <td>
                              <button
                                type="button"
                                class="btn btn-sm btn-primary edit-btn"
                              >
                                <i class="bi bi-pencil-fill"></i>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="card">
                  <div class="card-body">
                    <div class="form-section--heading">Packing Slips</div>
                    <div class="row g-3 p-3">
                      <div class="col-lg-3">
                        <label for="packingSlipNumber" class="form-label"
                          >Packing Slip Number</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="packingSlipNumber"
                          name="packing_slip_number"
                          placeholder="Packing Slip Number"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="shippingDate" class="form-label"
                          >Shipping Date</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="shippingDate"
                          name="shipping_date"
                          placeholder="Shipping Date"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="carrier" class="form-label">Carrier</label>
                        <input
                          type="text"
                          class="form-control"
                          id="carrier"
                          name="carrier"
                          placeholder="Carrier"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="trackingNumber" class="form-label"
                          >Tracking Number</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="trackingNumber"
                          name="tracking_number"
                          placeholder="Tracking Number"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="card">
                  <div class="card-body">
                    <div class="form-section--heading">
                      Sales Order Invoices
                    </div>
                    <div class="row g-3 p-3">
                      <div class="col-lg-3">
                        <label for="invoiceNumber" class="form-label">
                          Invoice Number
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          id="invoiceNumber"
                          name="invoice_number"
                          placeholder="Invoice Number"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="invoiceSubTotal" class="form-label">
                          Subtotal
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          id="invoiceSubTotal"
                          name="invoice_sub_total"
                          placeholder="Subtotal"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="salesTax" class="form-label">
                          Sales Tax
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          id="salesTax"
                          name="sales_tax"
                          placeholder="Sales Tax"
                        />
                      </div>
                      <div class="col-lg-3">
                        <label for="totalAmount" class="form-label">
                          Total Amount
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Total Amount"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
          <div class="px-3 d-flex justify-content-end">
            <button type="button" class="next-btn" onclick="nextStep(1)">
              Next
            </button>
          </div>
        </div>

        <!-- Step 2: Review & confirm -->
        <div class="form-step" id="step2">
          <h3>Review & Confirm</h3>
          <div id="review-container" class="p-3">
            <form>
              <div class="row g-4 p-3">
                <div class="col-12">
                  <div class="row g-4">
                    <div class="col-lg-9">
                      <div class="form-section--heading">Purchase Order</div>
                      <div class="card">
                        <div class="card-body">
                          <div class="row g-3">
                            <div class="col-md-3">
                              <label
                                for="reviewPurchaseOrder"
                                class="form-label"
                                >Purchase Order</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="reviewPurchaseOrder"
                                name="review_purchase_order"
                                placeholder="Purchase Order"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label
                                for="reviewConfirmDeliveryDate"
                                class="form-label"
                                >Confirm Delivery Date</label
                              >
                              <input
                                type="date"
                                class="form-control"
                                id="reviewConfirmDeliveryDate"
                                name="review_confirm_delivery_date"
                                placeholder="Confirm Delivery Date"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label
                                for="reviewRequestedDeliveryDate"
                                class="form-label"
                                >Requested Delivery Date</label
                              >
                              <input
                                type="date"
                                class="form-control"
                                id="reviewRequestedDeliveryDate"
                                name="review_requested_delivery_date"
                                placeholder="Requested Delivery Date"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label for="revieOrderDate" class="form-label"
                                >Order Date</label
                              >
                              <input
                                type="date"
                                class="form-control"
                                id="reviewOrderDate"
                                name="review_order_date"
                                placeholder="Order Date"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label for="reviewShipVia" class="form-label"
                                >Ship Via</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="reviewShipVia"
                                name="review_ship_via"
                                placeholder="Ship via"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label for="reviewPaymentTerm" class="form-label"
                                >Payment Term</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="reviewPaymentTerm"
                                name="review_payment_term"
                                placeholder="Payment Term"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label for="reviewDeliveryTerm" class="form-label"
                                >Delivery Term</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="reviewDeliveryTerm"
                                name="review_delivery_term"
                                placeholder="Delivery Term"
                                disabled
                              />
                            </div>
                            <div class="col-md-3">
                              <label
                                for="reviewConfirmedDeliveryDate"
                                class="form-label"
                                >Confirmed Delivery Date</label
                              >
                              <input
                                type="date"
                                class="form-control"
                                id="reviewConfirmedDeliveryDate"
                                name="review_confirmed_delivery_date"
                                placeholder="Confirmed Delivery Date"
                                disabled
                              />
                            </div>
                            <div class="col-md-12 col-xs-6 mb-2">
                              <div class="horizontal_line"></div>
                            </div>
                            <div class="col-md-3">
                              <label for="reviewSubTotal" class="form-label"
                                >Sub Total</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="reviewSubTotal"
                                name="review_sub_total"
                                placeholder="Sub Total"
                                disabled
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3">
                      <div class="card mb-4 mb-lg-0">
                        <div class="card-header">
                          <div class="form-section--heading mt-3">
                            Billing Address
                          </div>
                        </div>
                        <div class="card-body">
                          <input
                            type="text"
                            class="form-control"
                            id="reviewBillingAddress"
                            name="review_billing_address"
                            placeholder="Billing Address"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-header">
                          <div class="form-section--heading mt-3">
                            Delivery Address
                          </div>
                        </div>
                        <div class="card-body">
                          <input
                            type="text"
                            class="form-control"
                            id="reviewDeliveryAddress"
                            name="review_delivery_address"
                            placeholder="Delivery Address"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="form-section--heading">Product Details</div>
                      <div class="p-3 overflow-auto">
                        <table class="table">
                          <thead class="table-primary">
                            <tr>
                              <th>Product</th>
                              <th>Description</th>
                              <th>Unit</th>
                              <th>Quantity</th>
                              <th>Rested Delivery Date</th>
                              <th>Confirmed Delivery Date</th>
                              <th>Purchase Price</th>
                              <th>Line Order</th>
                              <th>Line Amount</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>1</td>
                              <td class="editable">Value 1</td>
                              <td class="editable">Value 2</td>
                              <td class="editable">Value 3</td>
                              <td class="editable">Value 4</td>
                              <td class="editable">Value 5</td>
                              <td class="editable">Value 6</td>
                              <td class="editable">Value 7</td>
                              <td class="editable">Value 8</td>
                            </tr>
                            <tr>
                              <td>2</td>
                              <td class="editable">Value A</td>
                              <td class="editable">Value B</td>
                              <td class="editable">Value C</td>
                              <td class="editable">Value D</td>
                              <td class="editable">Value E</td>
                              <td class="editable">Value F</td>
                              <td class="editable">Value G</td>
                              <td class="editable">Value H</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="form-section--heading">Packing Slips</div>
                      <div class="row g-3 p-3">
                        <div class="col-lg-3">
                          <label
                            for="reviewPackingSlipNumber"
                            class="form-label"
                            >Packing Slip Number</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="reviewPackingSlipNumber"
                            name="review_packing_slip_number"
                            placeholder="Packing Slip Number"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewShippingDate" class="form-label"
                            >Shipping Date</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="reviewShippingDate"
                            name="review_shipping_date"
                            placeholder="Shipping Date"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewCarrier" class="form-label"
                            >Carrier</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="reviewCarrier"
                            name="review_carrier"
                            placeholder="Carrier"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewTrackingNumber" class="form-label"
                            >Tracking Number</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="reviewTrackingNumber"
                            name="review_tracking_number"
                            placeholder="Tracking Number"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="form-section--heading">
                        Sales Order Invoices
                      </div>
                      <div class="row g-3 p-3">
                        <div class="col-lg-3">
                          <label for="reviewInvoiceNumber" class="form-label">
                            Invoice Number
                          </label>
                          <input
                            type="text"
                            class="form-control"
                            id="reviewInvoiceNumber"
                            name="review_invoice_number"
                            placeholder="Invoice Number"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewInvoiceSubTotal" class="form-label">
                            Subtotal
                          </label>
                          <input
                            type="text"
                            class="form-control"
                            id="reviewInvoiceSubTotal"
                            name="review_invoice_sub_total"
                            placeholder="Subtotal"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewsalesTax" class="form-label">
                            Sales Tax
                          </label>
                          <input
                            type="text"
                            class="form-control"
                            id="reviewSalesTax"
                            name="review_sales_tax"
                            placeholder="Sales Tax"
                            disabled
                          />
                        </div>
                        <div class="col-lg-3">
                          <label for="reviewtotalAmount" class="form-label">
                            Total Amount
                          </label>
                          <input
                            type="text"
                            class="form-control"
                            id="reviewTotalAmount"
                            name="review_total_amount"
                            placeholder="Total Amount"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="px-3 d-flex justify-content-end">
            <button type="button" class="next-btn" onclick="nextStep(2)">
              Next
            </button>
          </div>
        </div>

        <!-- Step 3: Approve | Reject -->
        <div class="form-step" id="step3">
          <h3>Approve | Reject</h3>
          <div class="px-3 d-flex justify-content-end">
            <button type="button" class="next-btn" onclick="nextStep(3)">
              Next
            </button>
          </div>
        </div>

        <!-- Step 4: Done -->
        <div class="form-step" id="step4">
          <h3>Done</h3>
        </div>
      </div>
    </main>

    <script>
      // File pikcer
      const fileInput = document.getElementById("fileInput");
      const container = document.querySelector(".file-picker-container");
      const selectedFile = document.querySelector(".selected-file");
      const fileName = document.querySelector(".file-name");
      const initialContent = document.querySelector(".initial-content");
      const removeButton = document.querySelector(".remove-file");

      fileInput.addEventListener("change", function (e) {
        if (this.files && this.files[0]) {
          fileName.textContent = this.files[0].name;
          selectedFile.classList.add("show");
          initialContent.classList.add("hide");
          container.classList.add("has-file");
        }
      });

      removeButton.addEventListener("click", function () {
        fileInput.value = "";
        selectedFile.classList.remove("show");
        initialContent.classList.remove("hide");
        container.classList.remove("has-file");
      });

      // Stepper handler
      function nextStep(currentStep) {
        // Hide current step
        document
          .getElementById("step" + currentStep)
          .classList.remove("active");
        // Show next step
        const nextStepEl = document.getElementById("step" + (currentStep + 1));
        nextStepEl.classList.add("active");

        // Update stepper
        const stepperItems = document.querySelectorAll(".stepper-item");
        stepperItems[currentStep].classList.add("active");

        if (currentStep === 1) {
          // Populate Step 2 with data from Step 1
          const formStep1 = document.querySelector("#step1 form");
          const formStep2 = document.querySelector("#step2 form");

          const fields = formStep1.querySelectorAll("input, textarea, select");
          fields.forEach((field) => {
            const step2Field = formStep2.querySelector(
              `[name="review_${field.name}"]`
            );
            if (step2Field) {
              step2Field.value = field.value; // Copy value
            }
          });
        }
      }

      // Edit row
      document.addEventListener("DOMContentLoaded", function () {
        const editButtons = document.querySelectorAll(".edit-btn");

        editButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const row = this.closest("tr");
            const cells = row.querySelectorAll(".editable");
            const isEditing = row.classList.contains("editing");

            if (isEditing) {
              // Save changes
              cells.forEach((cell) => {
                const input = cell.querySelector("input");
                if (input) {
                  cell.textContent = input.value;
                }
              });
              this.innerHTML = '<i class="bi bi-pencil-fill"></i>';
              row.classList.remove("editing");
            } else {
              // Enable editing
              cells.forEach((cell) => {
                const value = cell.textContent;
                cell.innerHTML = `<input type="text" class="form-control editable-input" value="${value}">`;
              });
              this.innerHTML = '<i class="bi bi-check-lg"></i> Save';
              row.classList.add("editing");
            }
          });
        });
      });
    </script>
  </body>
</html>
